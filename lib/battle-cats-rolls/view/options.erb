<% if route.path_info.match?(%r{\A/(?:cats(?:/\d+)?|logs|seek)?\z}) %>
<div class="options">
  <label for="lang_select">Region:</label>
  <select id="lang_select" name="lang" onchange="roll(this)">
    <option value="en" <%= selected_lang('en') %>>BCEN</option>
    <option value="tw" <%= selected_lang('tw') %>>BCTW</option>
    <option value="jp" <%= selected_lang('jp') %>>BCJP</option>
    <option value="kr" <%= selected_lang('kr') %>>BCKR</option>
  </select>

  <% if route.path_info.match?(%r{\A/(?:seek)?\z}) %>
  <label for="version_select">Version:</label>
  <select id="version_select" name="version" onchange="roll(this)">
    <option value="8.6" <%= selected_version('8.6') %>>8.6+</option>
    <option value="8.5" <%= selected_version('8.5') %>>8.5</option>
    <option value="8.4" <%= selected_version('8.4') %>>8.4</option>
  </select>
  <% else %>
  <%= hidden_inputs('version') %>
  <% end %>

  <% if route.path_info != '/logs' && !route.path_info.start_with?('/cats/') %>
  <label for="name_select">Name:</label>
  <select id="name_select" name="name" onchange="roll(this)">
    <option value="0" <%= selected_name(0) %>>Base</option>
    <option value="1" <%= selected_name(1) %>>Evolved</option>
    <option value="2" <%= selected_name(2) %>>True</option>
    <option value="3" <%= selected_name(3) %>>Ultra</option>
  </select>
  <% else %>
  <%= hidden_inputs('name') %>
  <% end %>

  <label for="ui_select">UI language:</label>
  <select id="ui_select" name="ui" onchange="roll(this)">
    <option value="" <%= selected_ui('') %>>Default</option>
    <option value="en" <%= selected_ui('en') %>>
      EN (<%= BattleCatsRolls::L10n.proofreader('en') %>)
    </option>
    <option value="tw" <%= selected_ui('tw') %>>
      TW (<%= BattleCatsRolls::L10n.proofreader('tw') %>)
    </option>
    <option value="jp" <%= selected_ui('jp') %>>
      JP (<%= BattleCatsRolls::L10n.proofreader('jp') %>)
    </option>
    <option value="kr" <%= selected_ui('kr') %>>
      KR (<%= BattleCatsRolls::L10n.proofreader('kr') %>)
    </option>
  </select>

  <% if route.path_info == '/' || route.path_info.start_with?('/cats/') %>
  <label for="theme_select">Theme:</label>
  <select id="theme_select" name="theme" onchange="roll(this)">
    <option value="" <%= selected_theme('') %>>Default</option>
    <option value="mkweb" <%= selected_theme('mkweb') %>>mkweb</option>
  </select>
  <% else %>
  <%= hidden_inputs('theme') %>
  <% end %>

  <% if route.path_info.start_with?('/cats/') && cat = arg[:cat] %>
  <div class="cats_options">
    <label for="level_input">Level:</label>
    <input
      type="number" id="level_input" name="level"
      value="<%= route.level %>"
      min="1"
      onclick="this.select()">

    Max <%= cat.max_level %>,
    Growth rate: <%= growth_rate(cat.growth) %>

    <div class="stat_options">
      <label for="hide_wave_input">
        <input type="checkbox" id="hide_wave_input" name="hide_wave"
          <%= checked_hide_wave %>
          onchange="roll(this)">
         Hide wave/surge/explosion attacks
      </label>
      <%= erb :stats_options %>
    </div>
  </div>
  <% elsif route.path_info == '/cats' %>
    <%= erb :filters %>
    <%= hidden_inputs('level', 'hide_wave') %>
  <% else %>
    <%= hidden_inputs('level', 'hide_wave',
      'exclude_talents', 'sum_no_wave', 'dps_no_critical') %>
  <% end %>
</div>
<% else %>
<%= hidden_inputs('level', 'lang', 'version', 'name',
  'hide_wave', 'sum_no_wave', 'dps_no_critical') %>
<% end %>

<%= hidden_inputs('o') %>
