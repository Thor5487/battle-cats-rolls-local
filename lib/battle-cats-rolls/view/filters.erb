<div class="cats">
  <div class="cats_filters">
    <label for="exclude_talents">
      <input type="checkbox" id="exclude_talents" name="exclude_talents"
        <%= checked_exclude_talents %>
        onchange="roll(this)">
       Exclude talents
    </label>

    <table>
      <tr>
        <td class="for">
          <label for="for_against_any">
            <input type="radio" id="for_against_any" name="for_against"
              value="any" <%= checked_for_against('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_against_all">
            <input type="radio" id="for_against_all" name="for_against"
              value="all" <%= checked_for_against('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Specialization</strong></div>
          <% BattleCatsRolls::Filter::Specialization.keys.each do |type| %>
            <label for="<%= type %>">
              <input type="checkbox" name="against" id="<%= type %>"
                value="<%= type %>" <%= checked_against(type) %>
                onchange="roll(this)">
              <%= l10n(type.capitalize) %>
            </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_buff_any">
            <input type="radio" id="for_buff_any" name="for_buff"
              value="any" <%= checked_for_buff('any') %>
              onchange="roll(this)">
            Any
          </label>
        </td>
        <td class="filter">
          <div><strong>Buff</strong></div>
          <% BattleCatsRolls::Filter::Buff.keys.each do |buff| %>
          <label for="<%= buff %>">
            <input type="checkbox" name="buff" id="<%= buff %>"
             value="<%= buff %>" onchange="roll(this)"
             <%= checked_buff(buff) %>>
            <%= l10n(buff.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
        <td>
          <label for="for_resistant_or">
            <input type="radio" id="for_resistant_or" name="for_resistant"
              value="or" <%= checked_for_resistant('or') %>
              onchange="roll(this)">
            Or
          </label>
          <label for="for_resistant_and">
            <input type="radio" id="for_resistant_and" name="for_resistant"
              value="and" <%= checked_for_resistant('and') %>
              onchange="roll(this)">
            And
          </label>
        </td>
        <td class="filter">
          <% BattleCatsRolls::Filter::Resistant.keys.each do |resistant| %>
          <label for="<%= resistant %>">
            <input type="checkbox" name="resistant" id="<%= resistant %>"
              value="<%= resistant %>" <%= checked_resistant(resistant) %>
              onchange="roll(this)">
            <%= l10n(resistant.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_range_any">
            <input type="radio" id="for_range_any" name="for_range"
              value="any" <%= checked_for_range('any') %>
              onchange="roll(this)">
            Any
          </label>
        </td>
        <td class="filter" colspan="2">
          <div><strong>Range</strong></div>
          <% BattleCatsRolls::Filter::Range.keys.each do |range| %>
          <label for="<%= range %>">
            <input type="checkbox" name="range" id="<%= range %>"
              value="<%= range %>" <%= checked_range(range) %>
              onchange="roll(this)">
            <%= l10n(range.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
        <td class="filter">
          <div><strong>Area</strong></div>
          <label for="area_any">
            <input type="radio" name="area" id="area_any"
              value="any" <%= checked_area('any') %>
              onchange="roll(this)">
            <%= l10n('Any') %>
          </label>
          <% BattleCatsRolls::Filter::Area.keys.each do |area| %>
          <label for="<%= area %>">
            <input type="radio" name="area" id="<%= area %>"
              value="<%= area %>" <%= checked_area(area) %>
              onchange="roll(this)">
            <%= l10n(area.capitalize) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_control_any">
            <input type="radio" id="for_control_any" name="for_control"
              value="any" <%= checked_for_control('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_control_all">
            <input type="radio" id="for_control_all" name="for_control"
              value="all" <%= checked_for_control('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Control</strong></div>
          <% BattleCatsRolls::Filter::Control.keys.each do |control| %>
          <label for="control_<%= control %>">
            <input type="checkbox" name="control" id="control_<%= control %>"
              value="<%= control %>" <%= checked_control(control) %>
              onchange="roll(this)">
            <%= l10n(control.capitalize) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_immunity_any">
            <input type="radio" id="for_immunity_any" name="for_immunity"
              value="any" <%= checked_for_immunity('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_immunity_all">
            <input type="radio" id="for_immunity_all" name="for_immunity"
              value="all" <%= checked_for_immunity('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Immunity</strong></div>
          <% BattleCatsRolls::Filter::Immunity.keys.each do |immunity| %>
          <label for="immunity_<%= immunity %>">
            <input type="checkbox" name="immunity" id="immunity_<%= immunity %>"
              value="<%= immunity %>" <%= checked_immunity(immunity) %>
              onchange="roll(this)">
            <%= l10n(immunity.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_counter_any">
            <input type="radio" id="for_counter_any" name="for_counter"
              value="any" <%= checked_for_counter('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_counter_all">
            <input type="radio" id="for_counter_all" name="for_counter"
              value="all" <%= checked_for_counter('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Counter</strong></div>
          <% BattleCatsRolls::Filter::Counter.keys.each do |filter| %>
          <label for="<%= filter %>">
            <input type="checkbox" name="counter" id="<%= filter %>"
              value="<%= filter %>" <%= checked_counter(filter) %>
              onchange="roll(this)">
            <%= l10n(filter.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_combat_any">
            <input type="radio" id="for_combat_any" name="for_combat"
              value="any" <%= checked_for_combat('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_combat_all">
            <input type="radio" id="for_combat_all" name="for_combat"
              value="all"  <%= checked_for_combat('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Combat</strong></div>
          <% BattleCatsRolls::Filter::Combat.keys.each do |filter| %>
          <label for="<%= filter %>">
            <input type="checkbox" name="combat" id="<%= filter %>"
              value="<%= filter %>" <%= checked_combat(filter) %>
              onchange="roll(this)">
            <%= l10n(filter.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_other_any">
            <input type="radio" id="for_other_any" name="for_other"
              value="any" <%= checked_for_other('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_other_all">
            <input type="radio" id="for_other_all" name="for_other"
              value="all" <%= checked_for_other('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Other</strong></div>
          <% BattleCatsRolls::Filter::Other.keys.each do |filter| %>
          <label for="<%= filter %>">
            <input type="checkbox" name="other" id="<%= filter %>"
              value="<%= filter %>" <%= checked_other(filter) %>
              onchange="roll(this)">
            <%= l10n(filter.capitalize.tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="for">
          <label for="for_aspect_any">
            <input type="radio" id="for_aspect_any" name="for_aspect"
              value="any" <%= checked_for_aspect('any') %>
              onchange="roll(this)">
            Any
          </label>
          <label for="for_aspect_all">
            <input type="radio" id="for_aspect_all" name="for_aspect"
              value="all" <%= checked_for_aspect('all') %>
              onchange="roll(this)">
            All
          </label>
        </td>
        <td class="filter" colspan="3">
          <div><strong>Aspect</strong></div>
          <% BattleCatsRolls::Filter::Aspect.keys.each do |filter| %>
          <label for="<%= filter %>">
            <input type="checkbox" name="aspect" id="<%= filter %>"
              value="<%= filter %>" <%= checked_aspect(filter) %>
              onchange="roll(this)">
            <%= l10n(filter.sub(/^./, &:upcase).tr('_', ' ')) %>
          </label>
          <% end %>
        </td>
      </tr>
    </table>
  </div>

  <%= header(2,
    %Q{Show me all cats (<a href="#{uri_to_own_all_cats}#show-me-all-cats">Own all below!</a>) (<a href="#{uri_to_drop_all_cats}#show-me-all-cats">Drop all below!</a>)},
    'show-me-all-cats')
  %>

  <div class="cats_listing">
  <% each_cats_by_rarity(arg[:cats_by_rarity]) do |rarity, cats| %>
    <%= rarity_header(rarity, cats.size) %>
    <div class="cats_by_rarity">
      <% cats.reverse_each do |c| %>
      <label for="cat-<%= c.id %>">
        <input type="checkbox" onchange="roll(this)"
          name="t" id="cat-<%= c.id %>" value="<%= c.id %>"
          <%= checked_cat(c) %>>
        <%= link_to_roll(c) %>
      </label>
      <% end %>
    </div>
  <% end %>
  </div>
</div>
